const indexjs = require("../index.js");
const arciotext = (require("./arcio.js")).text;
const adminjs = require("./admin.js");
const fs = require("fs");
const ejs = require("ejs");
const fetch = require('node-fetch');

const _0x260305=_0x5af3;function _0x23fd(){const _0x137b2f=['application/json','coupon-','webhook','585356MpukPU','exports','replace','includes','2743233wriBFm','?err=INVALIDCOUPONCODE','?err=SUCCESSCOUPONCODE','get','COUPONREDEEM','/coupon_redeem','client','coins-','warn','coins','pterodactyl','./settings.json','disk','ram','userinfo','disabled','[WEBSITE]\x20There\x20was\x20an\x20error\x20sending\x20to\x20the\x20webhook:\x20','session','/login','4053810eEKgqA','4fFshPh','settings','missingorinvalidcouponcode','#ffff00','cpu','Coupon\x20Redeemed','discriminator','delete','10420464CupYdv','?err=MISSINGCOUPONCODE','load','redirect','1878135XoEREg','set','auditlogs','readFileSync','toString','red','api','970896BvoXsB','webhook_url','username','catch','code','parse','servers','4752760piVEBW'];_0x23fd=function(){return _0x137b2f;};return _0x23fd();}(function(_0x2b464d,_0x4a9b6c){const _0x130f97=_0x5af3,_0x36ea88=_0x2b464d();while(!![]){try{const _0x14d080=parseInt(_0x130f97(0x19d))/0x1+parseInt(_0x130f97(0x172))/0x2+-parseInt(_0x130f97(0x176))/0x3*(-parseInt(_0x130f97(0x18a))/0x4)+parseInt(_0x130f97(0x16e))/0x5+-parseInt(_0x130f97(0x189))/0x6+-parseInt(_0x130f97(0x196))/0x7+-parseInt(_0x130f97(0x192))/0x8;if(_0x14d080===_0x4a9b6c)break;else _0x36ea88['push'](_0x36ea88['shift']());}catch(_0x2742bf){_0x36ea88['push'](_0x36ea88['shift']());}}}(_0x23fd,0xd7577),module[_0x260305(0x173)][_0x260305(0x194)]=async function(_0x58e155,_0x4ccfd6){const _0x21bb3f=_0x260305;_0x58e155[_0x21bb3f(0x179)](_0x21bb3f(0x17b),async(_0x17b52e,_0x5a4493)=>{const _0x3264a5=_0x21bb3f;if(!_0x17b52e['session'][_0x3264a5(0x180)])return _0x5a4493[_0x3264a5(0x195)](_0x3264a5(0x188));let _0x383b55=indexjs[_0x3264a5(0x179)](_0x17b52e),_0x3e8037=_0x17b52e['query'][_0x3264a5(0x16b)];if(!_0x3e8037)return _0x5a4493[_0x3264a5(0x195)](_0x383b55[_0x3264a5(0x18b)][_0x3264a5(0x195)][_0x3264a5(0x18c)]+_0x3264a5(0x193));let _0x28a8c=await _0x4ccfd6[_0x3264a5(0x179)]('coupon-'+_0x3e8037);if(!_0x28a8c)return _0x5a4493[_0x3264a5(0x195)](_0x383b55[_0x3264a5(0x18b)][_0x3264a5(0x195)]['missingorinvalidcouponcode']+_0x3264a5(0x177));await _0x4ccfd6[_0x3264a5(0x191)](_0x3264a5(0x170)+_0x3e8037);let _0x16244d=await _0x4ccfd6['get']('extra-'+_0x17b52e[_0x3264a5(0x187)][_0x3264a5(0x184)]['id'])||{'ram':0x0,'disk':0x0,'cpu':0x0,'servers':0x0};if(_0x28a8c['ram'])_0x16244d[_0x3264a5(0x183)]=_0x16244d['ram']+_0x28a8c[_0x3264a5(0x183)];if(_0x28a8c['disk'])_0x16244d['disk']=_0x16244d[_0x3264a5(0x182)]+_0x28a8c[_0x3264a5(0x182)];if(_0x28a8c[_0x3264a5(0x18e)])_0x16244d['cpu']=_0x16244d[_0x3264a5(0x18e)]+_0x28a8c[_0x3264a5(0x18e)];if(_0x28a8c['servers'])_0x16244d['servers']=_0x16244d[_0x3264a5(0x16d)]+_0x28a8c['servers'];if(_0x16244d[_0x3264a5(0x183)]>0x38d7ea4c67fff)_0x16244d['ram']=0x38d7ea4c67fff;if(_0x16244d['disk']>0x38d7ea4c67fff)_0x16244d[_0x3264a5(0x182)]=0x38d7ea4c67fff;if(_0x16244d[_0x3264a5(0x18e)]>0x38d7ea4c67fff)_0x16244d[_0x3264a5(0x18e)]=0x38d7ea4c67fff;if(_0x16244d[_0x3264a5(0x16d)]>0x38d7ea4c67fff)_0x16244d[_0x3264a5(0x16d)]=0x38d7ea4c67fff;await _0x4ccfd6[_0x3264a5(0x197)]('extra-'+_0x17b52e[_0x3264a5(0x187)][_0x3264a5(0x184)]['id'],_0x16244d);let _0x56814b=await _0x4ccfd6[_0x3264a5(0x179)](_0x3264a5(0x17d)+_0x17b52e['session']['userinfo']['id'])||0x0;_0x56814b=_0x56814b+_0x28a8c[_0x3264a5(0x17f)],await _0x4ccfd6[_0x3264a5(0x197)](_0x3264a5(0x17d)+_0x17b52e['session'][_0x3264a5(0x184)]['id'],_0x56814b),_0x5a4493['redirect'](_0x383b55[_0x3264a5(0x18b)]['redirect']['successfullyredeemedcoupon']+_0x3264a5(0x178));let _0x2acc77=JSON[_0x3264a5(0x16c)](fs[_0x3264a5(0x199)](_0x3264a5(0x181))[_0x3264a5(0x19a)]());if(_0x2acc77[_0x3264a5(0x19c)][_0x3264a5(0x17c)][_0x3264a5(0x171)][_0x3264a5(0x198)]['enabled']&&!_0x2acc77[_0x3264a5(0x19c)][_0x3264a5(0x17c)][_0x3264a5(0x171)][_0x3264a5(0x198)][_0x3264a5(0x185)][_0x3264a5(0x175)](_0x3264a5(0x17a))){let _0x264d11=JSON['stringify']({'embeds':[{'title':_0x3264a5(0x18f),'description':'**__User:__**\x20'+_0x17b52e[_0x3264a5(0x187)][_0x3264a5(0x184)][_0x3264a5(0x169)]+'#'+_0x17b52e[_0x3264a5(0x187)][_0x3264a5(0x184)][_0x3264a5(0x190)]+'\x20('+_0x17b52e[_0x3264a5(0x187)][_0x3264a5(0x184)]['id']+')\x0a\x0a**Code**:\x20'+_0x3e8037,'color':hexToDecimal(_0x3264a5(0x18d))}]});fetch(''+_0x2acc77[_0x3264a5(0x19c)][_0x3264a5(0x17c)][_0x3264a5(0x171)][_0x3264a5(0x168)],{'method':'POST','headers':{'Content-type':_0x3264a5(0x16f)},'body':_0x264d11})[_0x3264a5(0x16a)](_0x1494bb=>console[_0x3264a5(0x17e)](chalk[_0x3264a5(0x19b)](_0x3264a5(0x186)+_0x1494bb)));}});});function _0x5af3(_0x2ff8be,_0x2c69b0){const _0x23fde0=_0x23fd();return _0x5af3=function(_0x5af375,_0x1edb53){_0x5af375=_0x5af375-0x168;let _0x405d73=_0x23fde0[_0x5af375];return _0x405d73;},_0x5af3(_0x2ff8be,_0x2c69b0);}function hexToDecimal(_0x38035a){const _0x4a46ce=_0x260305;return parseInt(_0x38035a[_0x4a46ce(0x174)]('#',''),0x10);}