const settings = require("../settings.json");

const _0x973f72=_0x1c22;function _0x2e45(){const _0x14cf08=['8MghdrP','disk','?err=EXCEEDSPLAN','settings','query','597387CoIRRL','failedrenewserver','78158UKAfVX','/api/application/servers/','?err=CANNOTAFFORD','Could\x20not\x20find\x20server\x20with\x20that\x20ID.','cpu','text','post','filter','allow','list','10775702fziOqt','send','default','cost','15832764JIeuhS','package-','servers','delete','readFileSync','limits','relationships','application/json','/login','2788578wrtcyr','8hxjMSD','parse','Bearer\x20','data','exports','set','coins-','userinfo','client','5HEqeMN','attributes','time','ratelimits','renewsuspendsystem','renewserver','ram','packages','redirect','key','extra-','4643507BOhdoU','api','pterodactyl','6806108NxPqAI','session','/renew','90uAlaNA','get'];_0x2e45=function(){return _0x14cf08;};return _0x2e45();}function _0x1c22(_0x49ea05,_0x4382a3){const _0x2e45f9=_0x2e45();return _0x1c22=function(_0x1c22f1,_0x52a5c7){_0x1c22f1=_0x1c22f1-0x145;let _0x147e58=_0x2e45f9[_0x1c22f1];return _0x147e58;},_0x1c22(_0x49ea05,_0x4382a3);}(function(_0x14c54a,_0x339fe7){const _0x4b9216=_0x1c22,_0x4ce097=_0x14c54a();while(!![]){try{const _0x50cf7b=-parseInt(_0x4b9216(0x16b))/0x1+-parseInt(_0x4b9216(0x164))/0x2*(parseInt(_0x4b9216(0x169))/0x3)+-parseInt(_0x4b9216(0x15f))/0x4+-parseInt(_0x4b9216(0x151))/0x5*(parseInt(_0x4b9216(0x147))/0x6)+-parseInt(_0x4b9216(0x175))/0x7+-parseInt(_0x4b9216(0x148))/0x8*(-parseInt(_0x4b9216(0x179))/0x9)+parseInt(_0x4b9216(0x162))/0xa*(parseInt(_0x4b9216(0x15c))/0xb);if(_0x50cf7b===_0x339fe7)break;else _0x4ce097['push'](_0x4ce097['shift']());}catch(_0x59e9d3){_0x4ce097['push'](_0x4ce097['shift']());}}}(_0x2e45,0xeec9f),module[_0x973f72(0x14c)]['load']=async function(_0x41dec5,_0x41351d){const _0x3a6331=_0x973f72;if(settings['api'][_0x3a6331(0x150)][_0x3a6331(0x173)][_0x3a6331(0x155)]['enabled']==!![]){let _0x3fa82f={};const _0x4bf5fb=require('../index.js'),_0x2bc287=require('./arcio.js')[_0x3a6331(0x170)],_0x15cb86=require('node-fetch'),_0x58fe7d=require('fs');setInterval(async()=>{const _0x48b8aa=_0x3a6331;for(let [_0x2fdf9f,_0x356c45]of Object['entries'](_0x3fa82f)){_0x3fa82f[_0x2fdf9f]--;if(_0x3fa82f[_0x2fdf9f]<0x1){let _0x4e4c68=await _0x4bf5fb['islimited']();if(_0x4e4c68==![])return _0x3fa82f[_0x2fdf9f]=0x0;;_0x4bf5fb[_0x48b8aa(0x154)](0x1),await _0x15cb86(settings[_0x48b8aa(0x15e)]['domain']+_0x48b8aa(0x16c)+_0x2fdf9f+'/suspend',{'method':_0x48b8aa(0x171),'headers':{'Content-Type':_0x48b8aa(0x145),'Authorization':'Bearer\x20'+settings[_0x48b8aa(0x15e)][_0x48b8aa(0x15a)]}}),delete _0x3fa82f[_0x2fdf9f];}}},0x3e8),_0x41dec5['get'](_0x3a6331(0x161),async(_0x1d8124,_0x1ff578)=>{const _0x1db30f=_0x3a6331;if(!_0x1d8124[_0x1db30f(0x160)]['pterodactyl'])return _0x1ff578[_0x1db30f(0x159)](_0x1db30f(0x146));if(!_0x1d8124['query']['id'])return _0x1ff578['send']('Missing\x20id.');if(!_0x1d8124[_0x1db30f(0x160)][_0x1db30f(0x15e)]['relationships'][_0x1db30f(0x17b)]['data'][_0x1db30f(0x172)](_0x590b39=>_0x590b39[_0x1db30f(0x152)]['id']==_0x1d8124[_0x1db30f(0x168)]['id']))return _0x1ff578[_0x1db30f(0x176)](_0x1db30f(0x16e));let _0x179dcc=_0x4bf5fb[_0x1db30f(0x163)](_0x1d8124),_0x358420=JSON[_0x1db30f(0x149)](_0x58fe7d[_0x1db30f(0x17d)]('./settings.json')['toString']());if(_0x358420[_0x1db30f(0x15d)][_0x1db30f(0x150)][_0x1db30f(0x173)]['overresourcessuspend']==!![]){let _0x148fbb=_0x1d8124[_0x1db30f(0x160)][_0x1db30f(0x15e)],_0x306582=_0x1d8124[_0x1db30f(0x160)][_0x1db30f(0x14f)]['id'],_0x1929fe=await _0x41351d[_0x1db30f(0x163)](_0x1db30f(0x17a)+_0x306582),_0x5dac9c=_0x358420[_0x1db30f(0x15d)][_0x1db30f(0x150)]['packages'][_0x1db30f(0x174)][_0x1929fe||_0x358420[_0x1db30f(0x15d)]['client'][_0x1db30f(0x158)][_0x1db30f(0x177)]],_0x3a1d1b=await _0x41351d[_0x1db30f(0x163)](_0x1db30f(0x15b)+_0x306582)?await _0x41351d[_0x1db30f(0x163)]('extra-'+_0x306582):{'ram':0x0,'disk':0x0,'cpu':0x0,'servers':0x0},_0x45f940={'ram':_0x5dac9c[_0x1db30f(0x157)]+_0x3a1d1b[_0x1db30f(0x157)],'disk':_0x5dac9c[_0x1db30f(0x165)]+_0x3a1d1b[_0x1db30f(0x165)],'cpu':_0x5dac9c[_0x1db30f(0x16f)]+_0x3a1d1b[_0x1db30f(0x16f)],'servers':_0x5dac9c[_0x1db30f(0x17b)]+_0x3a1d1b[_0x1db30f(0x17b)]},_0x2dcb1e={'ram':0x0,'disk':0x0,'cpu':0x0,'servers':_0x148fbb[_0x1db30f(0x17f)]['servers'][_0x1db30f(0x14b)]['length']};for(let _0x42edae=0x0,_0x2ebf21=_0x148fbb[_0x1db30f(0x17f)][_0x1db30f(0x17b)][_0x1db30f(0x14b)]['length'];_0x42edae<_0x2ebf21;_0x42edae++){_0x2dcb1e[_0x1db30f(0x157)]=_0x2dcb1e['ram']+_0x148fbb[_0x1db30f(0x17f)][_0x1db30f(0x17b)][_0x1db30f(0x14b)][_0x42edae][_0x1db30f(0x152)][_0x1db30f(0x17e)]['memory'],_0x2dcb1e[_0x1db30f(0x165)]=_0x2dcb1e[_0x1db30f(0x165)]+_0x148fbb[_0x1db30f(0x17f)][_0x1db30f(0x17b)][_0x1db30f(0x14b)][_0x42edae][_0x1db30f(0x152)][_0x1db30f(0x17e)][_0x1db30f(0x165)],_0x2dcb1e[_0x1db30f(0x16f)]=_0x2dcb1e[_0x1db30f(0x16f)]+_0x148fbb[_0x1db30f(0x17f)]['servers']['data'][_0x42edae][_0x1db30f(0x152)][_0x1db30f(0x17e)][_0x1db30f(0x16f)];};if(_0x2dcb1e['ram']>_0x45f940[_0x1db30f(0x157)]||_0x2dcb1e[_0x1db30f(0x165)]>_0x45f940[_0x1db30f(0x165)]||_0x2dcb1e[_0x1db30f(0x16f)]>_0x45f940[_0x1db30f(0x16f)]||_0x2dcb1e[_0x1db30f(0x17b)]>_0x45f940[_0x1db30f(0x17b)])return _0x1ff578[_0x1db30f(0x176)](_0x179dcc[_0x1db30f(0x167)]['redirect']['failedrenewserver']+_0x1db30f(0x166));;};let _0x37790a=settings[_0x1db30f(0x15d)]['client'][_0x1db30f(0x173)][_0x1db30f(0x155)][_0x1db30f(0x178)],_0x58c6a6=await _0x41351d[_0x1db30f(0x163)](_0x1db30f(0x14e)+_0x1d8124[_0x1db30f(0x160)]['userinfo']['id'])||0x0;if(_0x58c6a6<_0x37790a)return _0x1ff578['redirect'](_0x179dcc[_0x1db30f(0x167)]['redirect'][_0x1db30f(0x16a)]+_0x1db30f(0x16d));let _0x4f3e08=_0x58c6a6-_0x37790a;return _0x4f3e08==0x0?await _0x41351d[_0x1db30f(0x17c)](_0x1db30f(0x14e)+_0x1d8124['session'][_0x1db30f(0x14f)]['id']):await _0x41351d[_0x1db30f(0x14d)](_0x1db30f(0x14e)+_0x1d8124[_0x1db30f(0x160)][_0x1db30f(0x14f)]['id'],_0x4f3e08),_0x3fa82f[_0x1d8124[_0x1db30f(0x168)]['id']]=settings['api'][_0x1db30f(0x150)][_0x1db30f(0x173)][_0x1db30f(0x155)][_0x1db30f(0x153)],await _0x15cb86(settings[_0x1db30f(0x15e)]['domain']+_0x1db30f(0x16c)+_0x1d8124['query']['id']+'/unsuspend',{'method':_0x1db30f(0x171),'headers':{'Content-Type':_0x1db30f(0x145),'Authorization':_0x1db30f(0x14a)+settings[_0x1db30f(0x15e)]['key']}}),_0x1ff578['redirect'](_0x179dcc['settings']['redirect'][_0x1db30f(0x156)]||'/');}),module[_0x3a6331(0x14c)][_0x3a6331(0x14d)]=async function(_0x1ebc71){const _0xdd991=_0x3a6331;_0x3fa82f[_0x1ebc71]=settings[_0xdd991(0x15d)][_0xdd991(0x150)][_0xdd991(0x173)]['renewsuspendsystem']['time'];},module[_0x3a6331(0x14c)]['delete']=async function(_0x585e6d){delete _0x3fa82f[_0x585e6d];};}});